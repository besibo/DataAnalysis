<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analyse de Données - 1&nbsp; R et RStudio : les bases</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02-dataset.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-sidebar floating">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-R-basics.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">R et RStudio : les bases</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><span id="sec-basics" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">R et RStudio : les bases</span></span></h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Analyse de Données</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/besibo/DataAnalysis" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./Analyse-de-Données.pdf" rel="" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Basculer le mode sombre"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Recherche"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-R-basics.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">R et RStudio : les bases</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-dataset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Explorez votre premier jeu de données</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Visualiser des données avec <code>ggplot2</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-tidy-Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">(Ar)ranger des données avec <code>tidyr</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-DataWrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Manipuler des tableaux avec <code>dplyr</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-StatsDescript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Les statistiques descriptives</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table des matières</h2>
   
  <ul>
  <li><a href="#préambule" id="toc-préambule" class="nav-link active" data-scroll-target="#préambule"><span class="header-section-number">1.1</span> Préambule</a></li>
  <li><a href="#que-sont-r-et-rstudio" id="toc-que-sont-r-et-rstudio" class="nav-link" data-scroll-target="#que-sont-r-et-rstudio"><span class="header-section-number">1.2</span> Que sont <code>R</code> et <code>RStudio</code> ?</a>
  <ul class="collapse">
  <li><a href="#sec-install" id="toc-sec-install" class="nav-link" data-scroll-target="#sec-install"><span class="header-section-number">1.2.1</span> Installation</a></li>
  <li><a href="#utiliser-r-depuis-rstudio" id="toc-utiliser-r-depuis-rstudio" class="nav-link" data-scroll-target="#utiliser-r-depuis-rstudio"><span class="header-section-number">1.2.2</span> Utiliser <code>R</code> depuis <code>RStudio</code></a></li>
  </ul></li>
  <li><a href="#sec-code" id="toc-sec-code" class="nav-link" data-scroll-target="#sec-code"><span class="header-section-number">1.3</span> Comment exécuter du code <code>R</code> ?</a>
  <ul class="collapse">
  <li><a href="#la-console" id="toc-la-console" class="nav-link" data-scroll-target="#la-console"><span class="header-section-number">1.3.1</span> La console</a></li>
  <li><a href="#sec-script" id="toc-sec-script" class="nav-link" data-scroll-target="#sec-script"><span class="header-section-number">1.3.2</span> Les scripts</a></li>
  <li><a href="#les-projets-ou-rprojects" id="toc-les-projets-ou-rprojects" class="nav-link" data-scroll-target="#les-projets-ou-rprojects"><span class="header-section-number">1.3.3</span> Les projets, ou <code>Rprojects</code></a></li>
  <li><a href="#concepts-de-base-en-programmation-et-terminologie" id="toc-concepts-de-base-en-programmation-et-terminologie" class="nav-link" data-scroll-target="#concepts-de-base-en-programmation-et-terminologie"><span class="header-section-number">1.3.4</span> Concepts de base en programmation et terminologie</a></li>
  </ul></li>
  <li><a href="#sec-packages" id="toc-sec-packages" class="nav-link" data-scroll-target="#sec-packages"><span class="header-section-number">1.4</span> Les packages additionels</a>
  <ul class="collapse">
  <li><a href="#installation-dun-package" id="toc-installation-dun-package" class="nav-link" data-scroll-target="#installation-dun-package"><span class="header-section-number">1.4.1</span> Installation d’un package</a></li>
  <li><a href="#charger-un-package-en-mémoire" id="toc-charger-un-package-en-mémoire" class="nav-link" data-scroll-target="#charger-un-package-en-mémoire"><span class="header-section-number">1.4.2</span> Charger un package en mémoire</a></li>
  </ul></li>
  <li><a href="#sec-exo-1" id="toc-sec-exo-1" class="nav-link" data-scroll-target="#sec-exo-1"><span class="header-section-number">1.5</span> Exercice</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="préambule" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="préambule"><span class="header-section-number">1.1</span> Préambule</h2>
<p>Avant de commencer à explorer des données dans <code>R</code>, il y a plusieurs concepts clés qu’il faut comprendre en premier lieu :</p>
<ol type="1">
<li>Que sont <code>R</code> et <code>RStudio</code> ?</li>
<li>Comment s’y prend-on pour coder dans <code>R</code> ?</li>
<li>Que sont les <code>packages</code> ?</li>
</ol>
<p>Même si vous pensez être déjà à l’aise avec ces concepts, lisez attentivement ce chapitre et faites les exercices demandés. Cela vous rafraîchira probablement la mémoire, et il n’est pas impossible que vous appreniez une chose ou deux au passage. Une bonne maîtrise des éléments présentés dans ce chapitre est indispensable pour aborder sereinement les chapitres suivants, à commencer par le <a href="02-dataset.html"><span>Chapitre&nbsp;2</span></a>, qui présente un jeu de données que nous explorerons en détail un peu plus tard. Lisez donc attentivement ce chapitre et faites bien tous les exercices demandés.</p>
<p>Ce chapitre est en grande partie basé sur les 3 ressources suivantes que je vous encourage à consulter si vous souhaitez obtenir plus de détails :</p>
<ol type="1">
<li>L’ouvrage intitulé <a href="https://moderndive.com/index.html">ModernDive</a>, de Chester Ismay et Albert Y. Kim. Une bonne partie de ce livre est très largement inspirée de cet ouvrage. C’est en anglais, mais c’est un très bon texte d’introduction aux statistiques sous <code>R</code> et <code>RStudio</code>.</li>
<li>L’ouvrage intitulé <a href="https://ismayc.github.io/rbasics-book/">Getting used to R, RStudio, and R Markdown</a> de Chester Ismay, comprend des podcasts (en anglais toujours) que vous pouvez suivre en apprenant.</li>
<li>Les tutoriels en ligne de <a href="https://datacamp.com/">DataCamp</a>. DataCamp est une plateforme de e-learning accessible depuis n’importe quel navigateur internet et dont la priorité est l’enseignement des “data sciences”. Leurs tutoriels vous aideront à apprendre certains des concepts de développés dans ce livre.</li>
</ol>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Avant d’aller plus loin, rendez-vous sur <a href="https://www.datacamp.com/">le site de DataCamp</a>, créez-vous un compte gratuit, et reprenez la lecture de ce livre.</p>
</div>
</div>
</section>
<section id="que-sont-r-et-rstudio" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="que-sont-r-et-rstudio"><span class="header-section-number">1.2</span> Que sont <code>R</code> et <code>RStudio</code> ?</h2>
<p>Pour l’ensemble de ces TP, j’attends de vous que vous utilisiez <code>R</code> <em>via</em> <code>RStudio</code>. Les utilisateurs novices confondent souvent les deux. Pour tenter une analogie simple :</p>
<ul>
<li><code>R</code> est le moteur d’une voiture</li>
<li><code>RStudio</code> est l’habitacle, le tableau de bord, les pédales…</li>
</ul>
<p>Si vous n’avez pas de moteur, vous n’irez nulle part. En revanche, un moteur sans tableau de bord est difficile à manœuvrer. Il est en effet beaucoup plus simple de faire avancer une voiture depuis l’habitacle, plutôt qu’en actionnant à la main les câbles et leviers du moteur.</p>
<p>En l’occurrence, <code>R</code> est un langage de programmation capable de produire des graphiques et de réaliser des analyses statistiques, des plus simples aux plus complexes. <code>RStudio</code> est un “emballage” qui rend l’utilisation de <code>R</code> plus aisée. <code>RStudio</code> est ce qu’on appelle un IDE ou “Integrated Development Environment”. On peut utiliser <code>R</code> sans <code>RStudio</code>, mais c’est nettement plus compliqué, nettement moins pratique.</p>
<section id="sec-install" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="sec-install"><span class="header-section-number">1.2.1</span> Installation</h3>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Avertissement
</div>
</div>
<div class="callout-body-container callout-body">
<p>Si vous travaillez exclusivement sur les ordinateurs de l’Université, vous pouvez passer cette section. En revanche, si vous souhaitez utiliser <code>R</code> et <code>RStudio</code> sur votre ordinateur personnel, alors lisez attentivement la suite !</p>
</div>
</div>
<p>Avant tout, vous devez télécharger et installer <code>R</code>, <strong>puis</strong> <code>RStudio</code>, dans cet ordre :</p>
<ol type="1">
<li><a href="https://cran.r-project.org">Téléchargez et installez <code>R</code></a></li>
</ol>
<ul>
<li>Vous devez installer ce logiciel en premier.</li>
<li>Cliquez sur le lien de téléchargement qui correspond à votre système d’exploitation, puis, sur “base”, si vous êtes sous Windows, sur “<code>R-4.3.1-x86_64.pkg</code>” si vous êtes sous Mac avec processeur Intel, ou sur <code>R-4.3.1-arm64.pkg</code> si vous êtes sous Mac avec processeur M1 ou M2 (sous Mac, cliquez sur le Menu , puis sur “À propos de ce Mac” et regardez à la rubrique “Processeur”), et suivez les instructions.</li>
</ul>
<ol start="2" type="1">
<li><a href="https://www.rstudio.com/products/RStudio/#Desktop">Téléchargez et installez <code>RStudio</code></a></li>
</ol>
<ul>
<li>Cliquez sur “RStudio Desktop”, puis sur “Download RStudio Desktop”.</li>
<li>Choisissez la version gratuite et cliquez sur le lien de téléchargement qui correspond à votre système d’exploitation.</li>
</ul>
</section>
<section id="utiliser-r-depuis-rstudio" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="utiliser-r-depuis-rstudio"><span class="header-section-number">1.2.2</span> Utiliser <code>R</code> depuis <code>RStudio</code></h3>
<p>Puisqu’il est beaucoup plus facile d’utiliser <code>Rstudio</code> pour interagir avec <code>R</code>, nous utiliserons exclusivement l’interface de <code>RStudio.</code> Après les installations réalisées à la <a href="#sec-install"><span>Section&nbsp;1.2.1</span></a>, vous disposez de 2 nouveaux logiciels sur votre ordinateur. <code>RStudio</code> ne peut fonctionner sans <code>R</code>, mais nous travaillerons exclusivement dans <code>RStudio</code> :</p>
<ul>
<li><code>R</code>, ne pas ouvrir ceci : <img src="images/Rlogo.png" class="img-fluid"> <br> <br></li>
<li><code>RStudio</code>, ouvrir cela : <img src="images/RStudio-Ball.png" class="img-fluid" data-fig-width="28%"></li>
</ul>
<p>À l’université, vous trouverez <code>RStudio</code> dans le menu Windows, à condition d’être connecté à la machine virtuelle <code>bio</code>. Quand vous ouvrez <code>RStudio</code> pour la première fois, vous devriez obtenir une fenêtre qui ressemble à ceci :</p>
<p><img src="images/rstudio.png" class="img-fluid"></p>
<p>Prenez le temps d’explorer cette interface, cliquez sur les différents onglets, ouvrez les menus, allez faire un tour dans les préférences du logiciel pour découvrir les différents panneaux de l’application, en particulier la Console dans laquelle nous exécuterons très bientôt du code <code>R</code>.</p>
</section>
</section>
<section id="sec-code" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="sec-code"><span class="header-section-number">1.3</span> Comment exécuter du code <code>R</code> ?</h2>
<p>Contrairement à d’autres logiciels comme Excel, STATA ou SAS qui fournissent des interfaces où tout se fait en cliquant avec sa souris, <code>R</code> est un langage interprété, ce qui signifie que vous devez taper des commandes, écrites en code <code>R</code>. C’est-à-dire que vous devez <strong>programmer</strong> en <code>R</code> (j’utilise les termes “coder” et “programmer” de manière interchangeable dans ce livre).</p>
<p>Il n’est pas nécessaire d’être un programmeur pour utiliser <code>R</code>, néanmoins, il est nécessaire de programmer ! Il existe en effet un ensemble de concepts de programmation de base que les utilisateurs de <code>R</code> doivent comprendre et maîtriser. Et progresser en programmation vous permettra d’automatiser de plus en plus de choses, et donc, à terme, de gagner beaucoup de temps. Par conséquent, bien que ce livre ne soit pas un livre sur la programmation, vous en apprendrez juste assez en programmation pour explorer et analyser efficacement des données.</p>
<section id="la-console" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="la-console"><span class="header-section-number">1.3.1</span> La console</h3>
<p>La façon la plus simple d’interagir avec <code>RStudio</code> (mais pas du tout la meilleure !) consiste à taper directement des commandes que <code>R</code> pourra comprendre <strong>dans la Console</strong>.</p>
<p>Cliquez dans la console (après le symbole <code>&gt;</code>) et tapez ceci, sans oublier de valider en tapant sur la touche <code>Entrée</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">+</span> <span class="dv">8</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
</div>
<p>Félicitations, vous venez de taper votre première instruction <code>R</code> : vous savez maintenant faire des additions !</p>
<p>Dans la version en ligne de ce livre (en html), à chaque fois que du code <code>R</code> sera fourni, il apparaîtra dans un cadre grisé avec une ligne bleue à gauche, comme ci-dessus. Vous pourrez toujours taper dans <code>RStudio</code>, les commandes qui figurent dans ces blocs de code, afin d’obtenir vous même les résultats souhaités. Dans ce livre, lorsque les commandes <code>R</code> produisent des résultats, ils sont affichés juste en dessous des blocs de code. Enfin, en passant la souris sur les blocs de code, vous verrez apparaître, à droite, une icône de presse-papier qui vous permettra de copier-coller les commandes du livre dans la console de <code>RStudio</code> ou, très bientôt, dans vos scripts.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Les risques du “copier-coller” <span style="color: orange"><i class="fa-regular fa-clipboard" aria-label="clipboard"></i></span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Attention : il est fortement conseillé de réserver les copier-coller aux blocs de commandes de (très) grande taille, ou en cas d’erreur de syntaxe inexplicable. L’expérience a en effet montré qu’<strong>on apprend beaucoup mieux <span style="color: red">en tapant soi-même les commandes</span></strong>. Ça n’est que comme cela que l’on peut prendre conscience de toutes les subtilités du langage (par exemple, faut-il mettre une virgule ou un point, une parenthèse ou un crochet, le symbole moins ou un tilde, etc.). Je vous conseille donc de taper vous-même les commandes autant que possible.</p>
</div>
</div>
</section>
<section id="sec-script" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="sec-script"><span class="header-section-number">1.3.2</span> Les scripts</h3>
<p>Taper du code directement dans la console est probablement la pire façon de travailler dans <code>RStudio</code>. Cela est parfois utile pour faire un rapide calcul, ou pour vérifier qu’une commande fonctionne correctement. Mais la plupart du temps, <strong>vous devriez taper vos commandes dans un script</strong>.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Définition importante !
</div>
</div>
<div class="callout-body-container callout-body">
<p>Un script est un fichier au format “texte brut” (cela signifie qu’il n’y a pas de mise en forme et que ce fichier peut-être ouvert par n’importe quel éditeur de texte, y compris les plus simples comme le bloc notes de Windows), dans lequel vous pouvez taper :</p>
<ol type="1">
<li>des instructions qui seront comprises par <code>R</code> comme si vous les tapiez directement dans la console</li>
<li>des lignes de commentaires, qui doivent obligatoirement commencer par le symbole <code>#</code>.</li>
</ol>
</div>
</div>
<p>Les avantages de travailler dans un script sont nombreux :</p>
<ol type="1">
<li>Vous pouvez sauvegarder votre script à tout moment (vous devriez prendre l’habitude de le sauvegarder très régulièrement). Vous gardez ainsi la trace de toutes les commandes que vous avez tapées.</li>
<li>Vous pouvez aisément partager votre script pour collaborer avec vos collègues de promo et enseignants.</li>
<li>Vous pouvez documenter votre démarche et les différentes étapes de vos analyses. <strong>Vous devez ajouter autant de commentaires que possible</strong>. Cela permettra à vos collaborateurs de comprendre ce que vous avez fait. Et dans 6 mois, cela vous permettra de comprendre ce que vous avez fait. Si votre démarche vous paraît cohérente aujourd’hui, il n’est en effet pas garanti que vous vous souviendrez de chaque détail quand vous vous re-plongerez dans vos analyses dans quelques temps. Donc aidez-vous vous même en commentant vos scripts dès maintenant.</li>
<li>Un script bien structuré, bien indenté (avec les bons retours à la ligne, des sauts de lignes, des espaces, bref, de l’air) et clair permet de rendre vos analyses répétables. Si vous passez 15 heures à analyser un tableau de données précis, il vous suffira de quelques secondes pour analyser un nouveau jeu de données similaire : vous n’aurez que quelques lignes à modifier dans votre script original pour l’appliquer à de nouvelles données.</li>
</ol>
<p>Vous pouvez créer un script en cliquant dans le menu “File &gt; New File &gt; R Script”. Un nouveau panneau s’ouvre dans l’application. Pensez à sauvegarder immédiatement votre nouveau script en cliquant dans le menu “File &gt; Save” ou “File &gt; Save as…”. Il faut pour cela lui donner un nom et choisir un emplacement sur votre disque dur.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Où sauvegarder vos scripts ? <span style="color:red"><i class="fa-regular fa-save" aria-label="save"></i></span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Je vous encourage vivement à créer, sur votre disque dur, un nouveau dossier spécifique, que vous nommerez par exemple <code>Data_Analysis</code>. Il est important que le nom de ce dossier ne contienne pas de caractères spéciaux (<em>e.g.</em> accents, cédilles, apostrophes, espaces, etc.). Ce dossier devrait être facilement accessible : vous y enregistrerez tous vos scripts, vos jeux de données, vos graphiques, etc.</p>
<p>Si vous travaillez sur les ordinateurs de l’université, créez <span style="color:red">obligatoirement</span> votre dossier sur le disque <code>W:\</code>. Il s’agit de votre espace personnel sur le réseau de l’université. Cela vous garantit que vous retrouverez votre script la prochaine fois, même si vous utilisez un ordinateur différent.</p>
</div>
</div>
<p>À partir de maintenant, vous ne devriez plus taper de commande directement dans la console. Tapez systématiquement vos commandes dans un script et sauvegardez-le régulièrement.</p>
<p>Pour exécuter les commandes du script dans la console, il suffit de placer le curseur sur la ligne contenant la commande et de presser les touches <code>ctrl + enter</code> (ou <code>command + enter</code> sous macOS). Si un message d’erreur s’affiche dans la console, c’est que votre instruction était erronée. Modifiez la directement dans votre script et pressez à nouveau les touches <code>ctrl + enter</code> (ou <code>command + enter</code> sous macOS) pour tenter à nouveau votre chance. Idéalement, votre script ne devrait contenir que des commandes qui fonctionnent et des commentaires expliquant à quoi servent ces commandes.</p>
<p>Voici un exemple de script que je ne vous demande pas de reproduire. Lisez simplement attentivement son contenu :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Penser à installer le package ggplot2 si besoin</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggplot2")</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Chargement du package</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Mise en mémoire des données de qualité de l'air à New-York de mai à</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># septembre 1973</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(airquality)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichage des premières lignes du tableau de données</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(airquality)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Quelle est la structure de ce tableau ?</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(airquality)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Réalisation d'un graphique présentant la relation entre la concentration</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># en ozone atmosphérique en ppb et la température en degrés Fahrenheit</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> airquality, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Temp, <span class="at">y =</span> Ozone)) <span class="sc">+</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co"># On constate une augmentation importante de la concentration d'ozone </span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># pour des températures supérieures à 75ºF</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Même si vous ne comprenez pas encore les commandes qui figurent dans ce script (ça viendra !), voici ce que vous devez en retenir :</p>
<ol type="1">
<li>Le script contient plus de lignes de commentaires que de commandes <code>R</code>.</li>
<li>Chaque étape de l’analyse est décrite en détail.</li>
<li>Les 2 dernières lignes du script décrivent les résultats obtenus (ici, un graphique).</li>
<li>Seules des commandes pertinentes et qui fonctionnent ont été conservées dans ce script.</li>
<li>Chaque ligne de commentaire commence par <code>#</code>. Il est ainsi possible de conserver certaines commandes <code>R</code> dans le script, “pour mémoire”, sans pour autant qu’elle ne soient exécutées. C’est le cas pour la ligne <code># install.packages("ggplot2")</code>.</li>
</ol>
<p>Si j’exécute ce script dans la console de <code>RStudio</code> (en sélectionnant toutes les lignes et en pressant les touches <code>ctrl + enter</code> ou <code>command + enter</code> sous macOS), voilà ce qui est produit :</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  Ozone Solar.R Wind Temp Month Day
1    41     190  7.4   67     5   1
2    36     118  8.0   72     5   2
3    12     149 12.6   74     5   3
4    18     313 11.5   62     5   4
5    NA      NA 14.3   56     5   5
6    28      NA 14.9   66     5   6</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   153 obs. of  6 variables:
 $ Ozone  : int  41 36 12 18 NA 28 23 19 8 NA ...
 $ Solar.R: int  190 118 149 313 NA NA 299 99 19 194 ...
 $ Wind   : num  7.4 8 12.6 11.5 14.3 14.9 8.6 13.8 20.1 8.6 ...
 $ Temp   : int  67 72 74 62 56 66 65 59 61 69 ...
 $ Month  : int  5 5 5 5 5 5 5 5 5 5 ...
 $ Day    : int  1 2 3 4 5 6 7 8 9 10 ...</code></pre>
</div>
<div class="cell-output-display">
<p><img src="01-R-basics_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="les-projets-ou-rprojects" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="les-projets-ou-rprojects"><span class="header-section-number">1.3.3</span> Les projets, ou <code>Rprojects</code></h3>
<p>Pour travailler le plus efficacement possible avec <code>RStudio</code>, vous devriez créer, à l’intérieur de votre dossier de travail, un nouveau fichier très particulier, qui s’appelle, dans le jargon de <code>RStudio</code>, un <strong><code>Rproject</code></strong>.</p>
<p>Pour le créer, cliquez simplement dans le Menu “File &gt; New Project…”. Cette boîte de dialogue devrait apparaître :</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Rproj1.png" class="img-fluid figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>Choisissez “Existing Directory”, puis, dans la boîte de dialogue suivante :</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Rproj2.png" class="img-fluid figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>cliquez sur “Browse…”, naviguez jusqu’au dossier que vous avez créé plus tôt sur votre disque dur et qui contient votre script, puis cliquez sur “Create Project”. La fenêtre de <code>RStudio</code> se ferme, puis une nouvelle fenêtre vierge apparaît. En apparence, rien n’a changé ou presque. Pourtant :</p>
<ol type="1">
<li>en haut à droite de la fenêtre de <code>RStudio</code>, le logiciel indique maintenant que vous êtes bel et bien à l’intérieur d’un <code>Rproject</code>. Au lieu de <code>Project: (None)</code>, on lit maintenant le nom du <code>Rproject</code> (chez moi, <code>Data_Analysis</code>)</li>
<li>dans le quart inférieur droit de l’interface, l’onglet “Files” ne présente plus le même aspect. Avant de créer le <code>Rproject</code>, cet onglet présentait le chemin vers le dossier utilisé par défaut par le logiciel, ainsi que son contenu. Il s’agissait d’un dossier système auquel il vaut mieux ne pas toucher pour éviter les problèmes. Après la création du <code>Rproject</code>, l’onglet “Files” indique le contenu du dossier contenant le projet. Autrement dit, c’est ici que vous trouverez vos scripts, tableaux de données dans différents formats, figures sauvegardées, etc. Dans cet onglet, vous pouvez donc cliquer sur le nom de votre script pour l’ouvrir à nouveau, le modifier, l’exécuter…</li>
</ol>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Avant.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Sans <code>Rproject</code></figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Après.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Avec <code>RProject</code></figcaption>
</figure>
</div>
</div>
</div>
</div>
<ol start="3" type="1">
<li>un nouveau fichier portant l’extension <code>.Rproj</code> a été créé dans votre dossier de travail. La prochaine fois que vous voudrez travailler dans <code>RStudio</code>, il vous suffira de double-cliquer sur ce fichier dans l’explorateur de fichier de Windows ou le Finder de MacOS, pour que <code>RStudio</code> s’ouvre, et que vous retrouviez tous vos fichiers et scripts de la fois précédente</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Rproj3.png" class="img-fluid figure-img" style="width:20.0%"></p>
</figure>
</div>
<p>Pour vérifier que tout s’est bien passé jusqu’ici, tapez la commande suivante dans votre script puis envoyez-la dans la console en pressant les touches <code>ctrl + entrée</code> (ou <code>command + entrée</code> sous MacOS).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>RStudio</code> doit vous afficher, dans la console, le chemin jusqu’à votre <span style="color:red">répertoire de travail</span> ou “Working Directory” en anglais (<code>getwd()</code> est l’abréviation de “GET Working Directory”). Si tout s’est bien passé, ce chemin doit être celui du dossier qui contient votre script et le fichier <code>.Rproj</code> que vous venez de créer. Si ce n’est pas le cas, reprenez calmement toutes les étapes décrites depuis le début de la <a href="#sec-script"><span>Section&nbsp;1.3.2</span></a>. Si ça ne fonctionne toujours pas, contactez-moi sur Slack.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pour résumer… <i class="fa-solid fa-laptop-code" aria-label="laptop-code"></i>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Les <code>Rprojects</code> sont un moyen très pratique de travailler efficacement dans <code>RStudio</code> car ils permettent de gérer facilement la question du répertoire de travail. Lorsque vous envisagez de travailler sur un nouveau sujet/projet/jeu de données/compte-rendu de TP…, les étapes à suivre, pour vous mettre dans une configuration idéale qui vous évitera bien des problèmes par la suite, sont donc les suivantes :</p>
<ol type="1">
<li>Sur votre ordinateur, créez un nouveau dossier avec un nom simple, et à un endroit facile d’accès (pas de caractères spéciaux dans le chemin du dossier si possible)</li>
<li>Démarrez <code>RStudio</code></li>
<li>Dans le logiciel, cliquez dans le menu “File &gt; New Project…”</li>
<li>Choisissez “Existing Directory”, puis naviguez jusqu’au dossier que vous venez de créer</li>
<li>Cliquez sur “Create Project”</li>
<li>Créer un nouveau script (menu “File &gt; New File &gt; R script”)</li>
<li>Donnez un nom à votre script (menu “File &gt; Save As…”) pour le sauvegarder. Par défaut, <code>RStudio</code> vous propose d’enregistrer votre script dans le dossier de votre <code>Rproject</code>, ce qui est parfait.</li>
<li>Tapez <code>getwd()</code> dans votre script et exécutez cette commande en l’envoyant dans la console.</li>
</ol>
<p>Si le chemin qui s’affiche est celui du dossier contenant votre <code>Rproject</code> et votre script, félicitation, vous êtes prêt·e à travailler. Avec un peu d’habitude, ces étapes ne prennent qu’une à deux minutes.</p>
</div>
</div>
</section>
<section id="concepts-de-base-en-programmation-et-terminologie" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="concepts-de-base-en-programmation-et-terminologie"><span class="header-section-number">1.3.4</span> Concepts de base en programmation et terminologie</h3>
<p>Après ces considérations techniques sur l’utilisation et les réglages de <code>RStudio</code>, nous entrons maintenant dans le vif du sujet avec la découverte des premiers éléments de syntaxe du langage <code>R</code>.</p>
<section id="sec-objects" class="level4" data-number="1.3.4.1">
<h4 data-number="1.3.4.1" class="anchored" data-anchor-id="sec-objects"><span class="header-section-number">1.3.4.1</span> Objets, types, vecteurs, facteurs et tableaux de données</h4>
<p>Pour vous présenter les concepts de base et la terminologie de la programmation dont nous aurons besoin, vous allez suivre des tutoriels en ligne sur le site de DataCamp. Pour cette première prise en main, tout va maintenant se passer dans votre navigateur internet, et vous pouvez donc mettre de côté <code>RStudio</code> pour l’instant. Vous allez voir que l’interface de DataCamp ressemble à une version simplifiée de l’éditeur de script et de la console de <code>RStudio</code> : vous n’aurez pas à vous soucier des réglages, de <code>Rprojects</code> ou de sauvegarder quoi que ce soit. Si vous avez correctement créé votre compte gratuit DataCamp comme indiqué au tout début de la <a href="#sec-basics"><span>Chapitre&nbsp;1</span></a>, votre progression sera sauvegardée automatiquement. Il vous suffit de cliquer sur les liens direct ci-dessous pour démarrer les tutoriels en ligne.</p>
<p>Avant de démarrer, quelques précisions :</p>
<ul>
<li>pour chaque tutoriel que je vous demande de suivre, j’indique ci-dessous une liste des concepts de programmation qui sont couverts. N’hésitez pas à vous y référer (et à y revenir) tout au long du semestre si vous avez oublié certaines choses</li>
<li>ce tutoriel DataCamp contient 6 chapitres. Seuls les chapitres 1, 2, 4, et 5 doivent être suivis. Nous ne travaillerons pas sur les matrices ni sur les listes</li>
<li>à la fin de chaque chapitre du tutoriel, revenez à ce livre en ligne pour cliquer sur le lien direct ver le chapitre suivant. Procéder ainsi vous évitera de suivre des chapitres inutiles du tutoriel, et cela vous permettra également d’éviter les demandes d’inscriptions payantes à DataCamp</li>
</ul>
<p>Il est important de noter que, bien que ces tutoriels sont d’excellentes introductions, une lecture seule, même attentive, est insuffisante pour un apprentissage en profondeur et une rétention à long terme. Il faut pour cela <strong>pratiquer</strong> et <strong>répéter</strong>. Outre les exercices demandés dans DataCamp, que vous devez effectuer directement dans votre navigateur, je vous encourage à prendre des notes, à multiplier les essais, directement dans la console de <code>RStudio</code>, ou, de préférence, dans un script que vous annoterez, pour vous assurer que vous avez bien compris chaque partie.</p>
<p>Allez maintenant découvrir <a href="https://www.datacamp.com/community/open-courses/introduction-a-r">le cours d’introduction à R</a> sur DataCamp, et cliquez sur les liens des chapitres ci-dessous. Au fur et à mesure de votre travail, notez les termes importants et ce à quoi ils font référence.</p>
<ul>
<li><a href="https://campus.datacamp.com/courses/introduction-a-r/chapitre-1-introduction?ex=1">Chapitre 1 : introduction</a>
<ul>
<li>La console : l’endroit où vous tapez des commandes</li>
<li>Les objets : où les valeurs sont stockées, comment assigner des valeurs à des objets</li>
<li>Les types de données : entiers, doubles/numériques, caractères et logiques</li>
</ul></li>
<li><a href="https://campus.datacamp.com/courses/introduction-a-r/chapitre-2-les-vecteurs?ex=1">Chapitre 2 : vecteurs</a>
<ul>
<li>Les vecteurs : des collections de valeurs du même type</li>
</ul></li>
<li><a href="https://campus.datacamp.com/courses/introduction-a-r/chapitre-4-facteurs?ex=1">Chapitre 4 : les facteurs</a>
<ul>
<li>Des données catégorielles (et non pas <em>numériques</em>) représentées dans <code>R</code> sous forme de <code>factor</code>s</li>
</ul></li>
<li><a href="https://campus.datacamp.com/courses/introduction-a-r/chapitre-5-les-jeux-de-donnees?ex=1">Chapitre 5 : les jeux de données ou <code>data.frame</code></a>
<ul>
<li>Les <code>data.frame</code>s sont similaires aux feuilles de calcul rectangulaires que l’on peut produire dans un tableur. Dans <code>R</code>, ce sont des objets rectangulaires (des tableaux !) contenant des jeux de données : les lignes correspondent aux observations et les colonnes aux variables décrivant les observations. La plupart du temps, c’est le format de données que nous utiliserons. Plus de détails dans le <a href="02-dataset.html"><span>Chapitre&nbsp;2</span></a></li>
</ul></li>
</ul>
<p>Avant de passer à la suite, il nous reste 2 grandes notions à découvrir dans le domaine du code et de la syntaxe afin de pouvoir travailler efficacement dans <code>R</code> : les opérateurs de comparaison d’une part, et les fonctions d’autre part. Pour les découvrir et expérimenter, et puisque vous avez terminé les tutoriels DataCamp, reprenez maintenant <code>RStudio</code> et travaillez dans votre script.</p>
</section>
<section id="sec-comparaison" class="level4" data-number="1.3.4.2">
<h4 data-number="1.3.4.2" class="anchored" data-anchor-id="sec-comparaison"><span class="header-section-number">1.3.4.2</span> Opérateurs de comparaison</h4>
<p>Comme leur nom l’indique, ils permettent de comparer des valeurs ou des objets. Les principaux opérateurs de comparaison sont :</p>
<ul>
<li><code>==</code> : égal à</li>
<li><code>!=</code> : différent de</li>
<li><code>&gt;</code> : supérieur à</li>
<li><code>&lt;</code> : inférieur à</li>
<li><code>&gt;=</code> : supérieur ou égal à</li>
<li><code>&lt;=</code> : inférieur ou égal à</li>
</ul>
<p>Ainsi, on peut tester si 3 est égal à 5 :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">==</span> <span class="dv">5</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>La réponse est bien entendu <code>FALSE</code>. Est-ce que 3 est inférieur à 5 ?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">&lt;</span> <span class="dv">5</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>La réponse est maintenant <code>TRUE</code>. Lorsque l’on utilise un opérateur de comparaison, la réponse est toujours soit vrai (<code>TRUE</code>), soit faux (<code>FALSE</code>).</p>
<p>Il est aussi possible de comparer des chaînes de charactères :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="st">"Bonjour"</span> <span class="sc">==</span> <span class="st">"Au revoir"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="st">"Bonjour"</span> <span class="sc">&gt;=</span> <span class="st">"Au revoir"</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Manifestement, “Bonjour” est supérieur ou égal à “Au revoir”. En fait, <code>R</code> utilise l’ordre alphabétique pour comparer les chaînes de caractères. Puisque dans l’alphabet, le “B” de “Bonjour” arrive après le “A” de “Au revoir”, pour <code>R</code>, “Bonjour” est supérieur à “Au revoir”.</p>
<p>Il est également possible d’utiliser ces opérateurs pour comparer un chiffre et un vecteur :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>tailles_pop1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">112</span>, <span class="dv">28</span>, <span class="dv">86</span>, <span class="dv">14</span>, <span class="dv">154</span>, <span class="dv">73</span>, <span class="dv">63</span>, <span class="dv">48</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>tailles_pop1 <span class="sc">&gt;</span> <span class="dv">80</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE</code></pre>
</div>
</div>
<p>Ici, l’opérateur nous permet d’identifier quels éléments du vecteur <code>taille_pop1</code> sont supérieurs à 80. Il s’agit des éléments placés en première, troisième et cinquième positions.</p>
<p>Il est aussi possible de comparer 2 vecteurs qui contiennent le même nombre d’éléments :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>tailles_pop2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">114</span>, <span class="dv">27</span>, <span class="dv">38</span>, <span class="dv">91</span>, <span class="dv">54</span>, <span class="dv">83</span>, <span class="dv">33</span>, <span class="dv">68</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>tailles_pop1 <span class="sc">&gt;</span> tailles_pop2</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE  TRUE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
</div>
</div>
<p>Les comparaisons sont ici faites élément par élément. Ainsi, les observations 2, 3, 5 et 7 du vecteur <code>tailles_pop1</code> sont supérieures aux observations 2, 3, 5 et 7 du vecteur <code>tailles_pop2</code> respectivement.</p>
<p>Ces vecteurs de vrais/faux sont très utiles car ils peuvent permettre de compter le nombre d’éléments répondant à une certains condition :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(tailles_pop1 <span class="sc">&gt;</span> tailles_pop2)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>Lorsque l’on effectue une opération arithmétique (comme le calcul d’une somme ou d’une moyenne) sur un vecteur de vrais/faux, les <code>TRUE</code> sont remplacés par <code>1</code> et les <code>FALSE</code> par <code>0</code>. La somme nous indique donc le nombre de vrais dans un vecteur de vrais/faux, et la moyenne nous indique la proportion de vrais :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(tailles_pop1 <span class="sc">&gt;</span> tailles_pop2)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5</code></pre>
</div>
</div>
<p><strong>Note</strong> : Attention, si les vecteurs comparés n’ont pas la même taille, un message d’avertissement est affiché :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>tailles_pop3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">43</span>, <span class="dv">56</span>, <span class="dv">92</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>tailles_pop1</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 112  28  86  14 154  73  63  48</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>tailles_pop3</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 43 56 92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>tailles_pop3 <span class="sc">&gt;</span> tailles_pop1</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in tailles_pop3 &gt; tailles_pop1: la taille d'un objet plus long n'est
pas multiple de la taille d'un objet plus court</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE  TRUE  TRUE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
<p>Ici, <code>R</code> renvoie un résultat, accompagné d’un message d’avertissement qui nous indique que tout ne s’est probablement pas déroulé comme on le pensait. Dans un cas comme celui là, <code>R</code> va en effet <em>recycler</em> l’objet le plus court, ici <code>tailles_pop3</code> pour qu’une comparaison puisse être faite avec chaque élément de l’objet le plus long (ici, <code>tailles_pop1</code>). Ainsi, 43 est comparé à 112, 56 est comparé à 28 et 92 est comparé à 86. Puisque <code>tailles_pop3</code> ne contient plus d’éléments, ils sont recyclés, dans le même ordre : 43 est comparé à 14, 56 est comparé à 154, et ainsi de suite jusqu’à ce que tous les éléments de <code>tailles_pop1</code> aient été passés en revue.</p>
<p>Ce type de recyclage est très risqué car il est difficile de savoir ce qui a été comparé avec quoi. En travaillant avec des tableaux plutôt qu’avec des vecteurs, le problème est généralement évité puisque toutes les colonnes d’un <code>data.frame</code> contiennent le même nombre d’éléments.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Erreur ou avertissement ? <i class="fa-solid fa-bomb" aria-label="bomb"></i> ou <i class="fa-solid fa-exclamation-triangle" aria-label="exclamation-triangle"></i> ?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Il ne faut pas confondre message d’erreur et message d’avertissement :</p>
<ul>
<li>Un message d’<span style="color:red">erreur</span> commence généralement par <code>Error</code> ou <code>Erreur</code> et indique que <code>R</code> n’a pas compris ce que vous lui demandiez. Il n’a donc pas été en mesure de faire quoi que ce soit et votre commande n’a donc pas été exécutée. Vous devez absolument revenir à votre code et corriger la commande fautive car il y a fort à parier que si vous ne le faites pas, les commandes suivantes renverrons à leur tour un message d’erreur. Il est donc important de toujours revenir à la première erreur d’un script et de la corriger avant de passer à la suite.</li>
<li>Un message d’<span style="color:orange">avertissement</span> commence généralement par <code>Warning</code> et vous indique que quelque chose d’inhabituel, ou de “non-optimal” a été réalisé. Un résultat a été produit, mais peut-être n’est-il pas conforme à ce que vous attendiez. La prudence est donc requise.</li>
</ul>
<p>Dans les deux cas, un message explique de façon plus ou moins claire ce qui a posé problème. Progresser dans la maîtrise du logiciel et du langage signifie en grande partie progresser dans la compréhension de la signification de ces messages parfois obscures. Pour progresser, il faut donc commencer par <strong>lire attentivement ces messages</strong>, et tenter de comprendre ce qu’ils veulent dire.</p>
</div>
</div>
<p>Dernière chose concernant les opérateurs de comparaison : la question des données manquantes. Dans <code>R</code> les données manquantes sont symbolisées par cette notation : <code>NA</code>, abréviation de “Not Available”. Le symbole <code>NaN</code> (comme “Not a Number”) est parfois aussi observé lorsque des opérations ont conduit à des indéterminations. Mais c’est plus rare et la plupart du temps, les <code>NaN</code>s peuvent être traités comme les <code>NA</code>s. L’un des problèmes des données manquantes est qu’il est nécessaire de prendre des précautions pour réaliser des comparaisons les impliquant :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">==</span> <span class="cn">NA</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>On s’attend logiquement à ce que 3 ne soit pas considéré comme égal à <code>NA</code>, et donc, on s’attend à obtenir <code>FALSE</code>. Pourtant, le résultat est <code>NA</code>. La comparaison d’un élément quelconque à une donnée manquante fournit toujours une donnée manquante : la comparaison ne peut pas se faire, <code>R</code> n’a donc rien à retourner. C’est également le cas aussi lorsque l’on compare deux valeurs manquantes :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="cn">NA</span> <span class="sc">==</span> <span class="cn">NA</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>C’est en fait assez logique. Imaginons que j’ignore l’âge de Pierre et l’âge de Marie. Il n’y a aucune raison pour que leur âge soit le même, mais il est tout à fait possible qu’il le soit. C’est impossible à déterminer :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>age_Pierre <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>age_Marie <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>age_Pierre <span class="sc">==</span> age_Marie</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>Mais alors comment faire pour savoir si une valeur est manquante puisqu’on ne peut pas utiliser les opérateurs de comparaison ? On utilise la fonction <code>is.na()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(age_Pierre)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(tailles_pop3)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE</code></pre>
</div>
</div>
<p>D’une façon générale, le point d’exclamation permet de signifier à <code>R</code> que nous souhaitons obtenir le contraire d’une expression :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="fu">is.na</span>(age_Pierre)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="fu">is.na</span>(tailles_pop3)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE TRUE TRUE</code></pre>
</div>
</div>
<p>Cette fonction nous sera très utile plus tard pour éliminer toutes les lignes d’un tableau contenant des valeurs manquantes.</p>
</section>
<section id="sec-functions" class="level4" data-number="1.3.4.3">
<h4 data-number="1.3.4.3" class="anchored" data-anchor-id="sec-functions"><span class="header-section-number">1.3.4.3</span> L’utilisation des fonctions</h4>
<p>Dans <code>R</code>, les fonctions sont des objets particuliers qui permettent d’effectuer des tâches très variées. Du calcul d’une moyenne à la création d’un graphique, en passant par la réalisation d’analyses statistiques complexes ou simplement l’affichage du chemin du répertoire de travail, tout, dans <code>R</code>, repose sur l’utilisation de fonctions. Vous en avez déjà vu un certain nombre :</p>
<table class="table">
<colgroup>
<col style="width: 28%">
<col style="width: 72%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Fonction</th>
<th style="text-align: left;">Pour quoi faire ?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;"><code>c()</code></td>
<td style="text-align: left;">Créer des vecteurs</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>class()</code></td>
<td style="text-align: left;">Afficher ou modifier la classe d’un objet</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>factor()</code></td>
<td style="text-align: left;">Créer des facteurs</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>getwd()</code></td>
<td style="text-align: left;">Afficher le chemin du répertoire de travail</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>head()</code></td>
<td style="text-align: left;">Afficher les premiers éléments d’un objet</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>is.na()</code></td>
<td style="text-align: left;">Tester si un objet contient des valeurs manquantes</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>mean()</code></td>
<td style="text-align: left;">Calculer une moyenne</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>names()</code></td>
<td style="text-align: left;">Afficher ou modifier le nom des éléments d’un vecteur</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>order()</code></td>
<td style="text-align: left;">Ordonner les éléments d’un objet</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>subset()</code></td>
<td style="text-align: left;">Extraire une partie des éléments d’un objet</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>sum()</code></td>
<td style="text-align: left;">Calculer une somme</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>tail()</code></td>
<td style="text-align: left;">Afficher les derniers éléments d’un objet</td>
</tr>
</tbody>
</table>
<p>Cette liste va très rapidement s’allonger au fil des séances. Je vous conseille donc vivement de tenir à jour une liste des fonctions décrites, avec une explication de leur fonctionnement et éventuellement un exemple de syntaxe.</p>
<p>Certaines fonctions ont besoin d’arguments (par exemple, la fonction <code>factor()</code>), d’autres peuvent s’en passer (par exemple, la fonction <code>getwd()</code>). Pour apprendre comment utiliser une fonction particulière, pour découvrir quels sont ses arguments possibles, quel est leur rôle et leur intérêt, la meilleure solution est de consulter l’aide de cette fonction. Il suffit pour cela de taper un <code>?</code> suivi du nom de la fonction :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>?<span class="fu">factor</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Toutes les fonctions et jeux de données disponibles dans <code>R</code> disposent d’un fichier d’aide similaire. Cela peut faire un peu peur au premier abord (tout est en anglais !), mais ces fichiers d’aide ont l’avantage d’être très complets, de fournir des exemples d’utilisation, et ils sont tous construits sur le même modèle. Vous avez donc tout intérêt à vous familiariser avec eux. Vous devriez d’ailleurs prendre l’habitude de consulter l’aide de chaque fonction qui vous pose un problème. Par exemple, le logarithme (en base 10) de 100 devrait faire 2, car 100 est égal à 10^2. Pourtant :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">100</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.60517</code></pre>
</div>
</div>
<p>Que se passe-t’il ? Pour le savoir, il faut consulter l’aide de la fonction log :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>?<span class="fu">log</span>()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ce fichier d’aide nous apprend que par défaut, la syntaxe de la fonction <code>log()</code> est la suivante :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(x, <span class="at">base =</span> <span class="fu">exp</span>(<span class="dv">1</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Par défaut, la base du logarithme est fixée à <code>exp(1)</code>. Nous avons donc calculé un logarithme népérien (en base <em>e</em>). Cette fonction prend donc 2 arguments :</p>
<ol type="1">
<li><code>x</code> ne possède pas de valeur par défaut : il nous faut obligatoirement fournir quelque chose (la rubrique “Argument” du fichier d’aide nous indique que <code>x</code> doit être un vecteur numérique ou complexe) afin que la fonction puisse calculer un logarithme</li>
<li><code>base</code> possède un argument par défaut. Si nous ne spécifions pas nous même la valeur de <code>base</code>, elle sera fixée à sa valeur par défaut, c’est à dire <code>exp(1)</code>.</li>
</ol>
<p>Pour calculer le logarithme de 100 en base 10, il faut donc taper, au choix, l’une de ces 3 expressions :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="at">x =</span> <span class="dv">100</span>, <span class="at">base =</span> <span class="dv">10</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">100</span>, <span class="at">base =</span> <span class="dv">10</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">100</span>, <span class="dv">10</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>Le nom des arguments d’une fonction peut être omis tant que ses arguments sont indiqués dans l’ordre attendu par la fonction (cet ordre est celui qui est précisé à la rubrique “Usage” du fichier d’aide de la fonction). Il est possible de modifier l’ordre des arguments d’une fonction, mais il faut alors être parfaitement explicite et utiliser les noms des arguments tels que définis dans le fichier d’aide.</p>
<p>Ainsi, pour calculer le logarithme de 100 en base 10, on ne peut pas taper :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">10</span>, <span class="dv">100</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5</code></pre>
</div>
</div>
<p>car cela revient à calculer le logarithme de 10 en base 100. On peut en revanche taper :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="at">base =</span> <span class="dv">10</span>, <span class="at">x =</span> <span class="dv">100</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="sec-packages" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="sec-packages"><span class="header-section-number">1.4</span> Les packages additionels</h2>
<p>Une source de confusion importante pour les nouveaux utilisateurs de <code>R</code> est la notion de package. Les packages étendent les fonctionnalités de <code>R</code> en fournissant des fonctions, des données et de la documentation supplémentaires et peuvent être téléchargés gratuitement sur Internet. Ils sont écrits par une communauté mondiale d’utilisateurs de <code>R</code>. Par exemple, parmi les plus de 18000 packages disponibles à l’heure actuelle, nous utiliseront fréquemment :</p>
<ul>
<li>Le package <code>ggplot2</code> pour la visualisation des données dans le <a href="03-visualization.html"><span>Chapitre&nbsp;3</span></a></li>
<li>Le package <code>dplyr</code> pour manipuler des tableaux de données dans le <a href="05-DataWrangling.html"><span>Chapitre&nbsp;5</span></a></li>
</ul>
<p>Une bonne analogie pour les packages <code>R</code> : ils sont comme les apps que vous téléchargez sur un téléphone portable. <code>R</code> est comme un nouveau téléphone mobile. Il est capable de faire certaines choses lorsque vous l’utilisez pour la première fois, mais il ne sait pas tout faire. Les packages sont comme les apps que vous pouvez télécharger dans l’App Store et Google Play. Pour utiliser un package, comme pour utiliser Instagram, vous devez :</p>
<ol type="1">
<li>Le télécharger et l’installer. Vous ne le faites qu’une fois grâce à la commande <code>install.packages()</code></li>
<li>Le charger (en d’autres termes, l’ouvrir) en utilisant la commande <code>library()</code> à chaque nouvelle session de travail</li>
</ol>
<p>Donc, tout comme vous ne pouvez commencer à partager des photos avec vos amis sur Instagram que si vous installez d’abord l’application et que vous l’ouvrez, vous ne pouvez accéder aux données et fonctions d’un package <code>R</code> que si vous installez d’abord le package et le chargez avec la fonction <code>library()</code>. Passons en revue ces 2 étapes.</p>
<section id="installation-dun-package" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="installation-dun-package"><span class="header-section-number">1.4.1</span> Installation d’un package</h3>
<p>Il y a deux façons d’installer un package. Par example, pour installer le package <code>ggplot2</code> :</p>
<ol type="1">
<li><strong>Le plus simple</strong> : Dans le quart inférieur droit de l’interface de <code>Rstudio</code> :
<ol type="a">
<li>Cliquez sur l’onglet “Packages”</li>
<li>Cliquez sur “Install”</li>
<li>Tapez le nom du package dans le champ “Packages (separate multiple with space or comma):” Pour notre exemple, tapez <code>ggplot2</code></li>
<li>Cliquez sur “Install”</li>
</ol></li>
<li><strong>Métode alternative</strong> : Dans la console, tapez <code>install.packages("ggplot2")</code> (vous devez inclure les guillemets).</li>
</ol>
<p>En procédant de l’une ou l’autre façon, installez également les packages suivants : <code>tidyverse</code> et <code>palmerpenguins</code>. Le <code>tidyverse</code> est un “méta-package”, qui permet en fait d’installer de nombreux packages en une seule commande, dont <code>ggplot2</code>, <code>tidyr</code>, <code>dplyr</code>, <code>magrittr</code> et bien d’autres. Le package <code>palmerpenguins</code> contient un jeu de données dont nous nous servirons copieusement dans les chapitres suivants.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note : <code>install.packages()</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Un package doit être installé une fois seulement sur un ordinateur, sauf si une version plus récente est disponible et que vous souhaitez mettre à jour ce package. Il n’est donc pas nécessaire de laisser ces commandes dans votre script. Sinon, vous risquez de ré-installer les packages à chaque nouvelle session de travail, ce qui est inutile et consomme inutilement de la bande passante, des ressources numériques, et donc, du carbone… <i class="fa-solid fa-thermometer-three-quarters" aria-label="thermometer-three-quarters"></i> <i class="fa-solid fa-globe-americas" aria-label="globe-americas"></i></p>
</div>
</div>
</section>
<section id="charger-un-package-en-mémoire" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="charger-un-package-en-mémoire"><span class="header-section-number">1.4.2</span> Charger un package en mémoire</h3>
<p>Après avoir installé un package, vous pouvez le charger en utilisant la fonction <code>library()</code>. Par exemple, pour charger <code>ggplot2</code> et <code>dplyr</code> tapez ceci dans la console :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Puisque ces packages font partie du <code>tidyverse</code>, on aurait pu les charger tous les deux (et d’autres) en une seule étape en tapant :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Quand vous exécutez une commande, si vous voyez un message d’erreur commençant par :</p>
<p><code>Error: could not find function...</code></p>
<p>c’est probablement parce que vous tentez d’utiliser une fonction qui fait partie d’un package que vous n’avez pas chargé. Pour corriger l’erreur, il suffit donc de charger le package approprié avec la commande <code>library()</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note : <code>library()</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous devrez charger à nouveau chaque package que vous souhaitez utiliser <strong>à chaque fois que vous ouvrirez une nouvelle session de travail dans <code>RStudio</code></strong> (à chaque nouveau démarrage du logiciel, donc). C’est une erreur fréquente pour les débutants. Pour l’éviter, pensez bien à intégrer, tout en haut de votre script, les commandes <code>library()</code> nécessaires pour chaque package que vous comptez utiliser.</p>
</div>
</div>
</section>
</section>
<section id="sec-exo-1" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="sec-exo-1"><span class="header-section-number">1.5</span> Exercice</h2>
<p>Dans votre dossier de travail, créez un nouveau script que vous nommerez <code>ExoDiamonds.R</code>. Vous prendrez soin d’ajouter autant de commentaires que nécessaire dans votre script afin de le structurer correctement.</p>
<ol type="1">
<li>Téléchargez (si besoin) et chargez le package <code>ggplot2</code></li>
<li>Chargez le jeu de données <code>diamonds</code> grâce à la commande <code>data(diamonds)</code></li>
<li>Déterminez le nombre de lignes et de colonnes de ce tableau nommé <code>diamonds</code></li>
<li>Créez un nouveau tableau que vous nommerez <code>diamants_chers</code> qui contiendra uniquement les informations des diamants dont le prix est supérieur ou égal à $15000.</li>
<li>Combien de diamants coûtent $15000 ou plus ?</li>
<li>Cela représente quelle proportion du jeu de données de départ ?</li>
<li>Triez ce tableau par ordre de prix décroissants et affichez les informations des 20 diamants les plus chers.</li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introduction</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-dataset.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Explorez votre premier jeu de données</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>